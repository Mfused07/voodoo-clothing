'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = handleQueries;

var _forEachObjIndexed = require('ramda/src/forEachObjIndexed');

var _forEachObjIndexed2 = _interopRequireDefault(_forEachObjIndexed);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function handleQueries(queries, handlers) {
  (0, _forEachObjIndexed2.default)(function (query, propName) {
    // single query
    if (typeof query.once === 'function') {
      return handlers.single(query, propName);
    }

    // query list
    if (Array.isArray(query)) {
      return handlers.list(query, propName);
    }

    // query options object
    if (Array.isArray(query.queries)) {
      return handlers.obj(query, propName);
    }

    throw new TypeError('query for ' + propName + ' provided to mapDbToProps is an invalid type');
  }, queries);
}